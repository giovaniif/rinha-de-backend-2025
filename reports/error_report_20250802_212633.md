# üîç Relat√≥rio de An√°lise de Erros - Teste K6

**Data:** Sat Aug  2 09:26:33 PM UTC 2025  
**Dura√ß√£o do Teste:** √öltimo per√≠odo de logs analisado

## üìä Resumo Executivo

### Principais M√©tricas de Erro
### HTTP Errors (Status >= 400)
- **Total HTTP Errors:** 9739

### Errors por Status Code
- **Status 503 (Service Unavailable):** 780
- **Status 500 (Internal Server Error):** 9165
- **Status 400 (Bad Request):** 3

### Payment Processing Errors
- **Payment Failed:** 211
- **No Gateway Available:** 8957
- **Queue Full:** 780
- **Internal Errors:** 8957

### Health Check Issues
- **Health Check Timeouts:** 122

## üîç An√°lise Detalhada

### ‚ùå PROBLEMA PRINCIPAL: Gateway Unavailable

**Diagn√≥stico:** A maioria dos erros (8957 de 9739) √© causada por gateways indispon√≠veis.

**Poss√≠veis Causas:**
- Payment processors sobrecarregados
- Rate limiting dos health checks
- Timeouts de rede
- Problemas de conectividade

### ‚ö†Ô∏è PROBLEMA SECUND√ÅRIO: Queue Overflow

**Diagn√≥stico:** 780 casos de fila cheia.

**Impacto:** Requests rejeitadas com 503 Service Unavailable.
**Solu√ß√£o:** Aumentar capacidade da fila ou workers.

## üìà Recomenda√ß√µes de Melhoria

### 1. Otimizar Health Checks
- Aumentar timeout dos health checks
- Implementar exponential backoff
- Reduzir frequ√™ncia quando detectar problemas

### 2. Melhorar Resil√™ncia de Gateway
- Implementar circuit breaker
- Cache de √∫ltima disponibilidade conhecida
- Fallback mais inteligente

### 3. Otimizar Fila de Processamento
- Aumentar tamanho da fila (atual: 1000)
- Aumentar n√∫mero de workers (atual: 4)
- Implementar backpressure

### 4. Performance Geral
- Otimizar timeouts HTTP
- Implementar connection pooling
- Adicionar m√©tricas de performance
- Otimizar serializa√ß√£o JSON

## üìù Logs Relevantes

### √öltimos 10 Erros HTTP
```
[36mapi1_1   |[0m 2025/08/02 21:26:16 HTTP_ERROR: method=POST path=/payments status=500 duration=555.074¬µs ip=172.19.0.1
[36mapi1_1   |[0m 2025/08/02 21:26:16 HTTP_ERROR: method=POST path=/payments status=500 duration=528.03¬µs ip=172.19.0.1
[36mapi1_1   |[0m 2025/08/02 21:26:16 HTTP_ERROR: method=POST path=/payments status=500 duration=520.208¬µs ip=172.19.0.1
[36mapi1_1   |[0m 2025/08/02 21:26:16 HTTP_ERROR: method=POST path=/payments status=500 duration=545.763¬µs ip=172.19.0.1
[36mapi1_1   |[0m 2025/08/02 21:26:16 HTTP_ERROR: method=POST path=/payments status=500 duration=420.888¬µs ip=172.19.0.1
[36mapi1_1   |[0m 2025/08/02 21:26:16 HTTP_ERROR: method=POST path=/payments status=500 duration=399.406¬µs ip=172.19.0.1
[36mapi1_1   |[0m 2025/08/02 21:26:16 HTTP_ERROR: method=POST path=/payments status=500 duration=415.239¬µs ip=172.19.0.1
[36mapi1_1   |[0m 2025/08/02 21:26:16 HTTP_ERROR: method=POST path=/payments status=500 duration=381.443¬µs ip=172.19.0.1
[36mapi1_1   |[0m 2025/08/02 21:26:16 HTTP_ERROR: method=POST path=/payments status=500 duration=463.539¬µs ip=172.19.0.1
[36mapi1_1   |[0m 2025/08/02 21:26:16 HTTP_ERROR: method=POST path=/payments status=500 duration=471.821¬µs ip=172.19.0.1
```

### √öltimos 10 Payment Failures
```
[33mapi2_1   |[0m 2025/08/02 21:25:58 PAYMENT_FAILED: correlationId=03ea7916-04d9-4e5f-9588-49d03ec81af0 gateway=default amount=19.90 attempt=1 status=500
[33mapi2_1   |[0m 2025/08/02 21:25:58 PAYMENT_FAILED: correlationId=7fd6df86-a655-4263-a828-7f468a72a263 gateway=default amount=19.90 attempt=1 status=500
[36mapi1_1   |[0m 2025/08/02 21:26:01 PAYMENT_FAILED: correlationId=d29c08ac-0c2b-4d34-bf50-c57fb6c3b989 gateway=default amount=19.90 attempt=1 status=500
[36mapi1_1   |[0m 2025/08/02 21:26:01 PAYMENT_FAILED: correlationId=edc34e11-9fca-4891-b6b7-16c246198218 gateway=default amount=19.90 attempt=1 status=500
[36mapi1_1   |[0m 2025/08/02 21:26:01 PAYMENT_FAILED: correlationId=0a9762ad-c8e6-4af1-a9c4-293e27e70b88 gateway=default amount=19.90 attempt=1 status=500
[36mapi1_1   |[0m 2025/08/02 21:26:01 PAYMENT_FAILED: correlationId=7e232ca2-db66-4c42-86a6-fd5980dbcb10 gateway=default amount=19.90 attempt=1 status=500
[33mapi2_1   |[0m 2025/08/02 21:26:01 PAYMENT_FAILED: correlationId=312cd5ff-12d9-4a9c-86df-e1943293e582 gateway=default amount=19.90 attempt=1 status=500
[33mapi2_1   |[0m 2025/08/02 21:26:01 PAYMENT_FAILED: correlationId=f75fa2a7-1740-4c65-91e1-63a92dd6b6d3 gateway=default amount=19.90 attempt=1 status=500
[33mapi2_1   |[0m 2025/08/02 21:26:01 PAYMENT_FAILED: correlationId=8f39422f-729f-4f7d-b301-5e0a8849a139 gateway=default amount=19.90 attempt=1 status=500
[33mapi2_1   |[0m 2025/08/02 21:26:01 PAYMENT_FAILED: correlationId=5fbb724d-3da4-423c-bdbd-9d71d82d3ce2 gateway=default amount=19.90 attempt=1 status=500
```

---
*Relat√≥rio gerado automaticamente em Sat Aug  2 09:29:31 PM UTC 2025*
